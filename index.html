<!doctype html>
<html lang="en" class="js-booting">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Fusioeng</title>

    <link rel="icon" href="/favicon.ico" sizes="any" />
    <link rel="icon" type="image/png" href="/favicon-32.png" sizes="32x32" />
    <link rel="icon" type="image/png" href="/favicon-16.png" sizes="16x16" />
    <link rel="apple-touch-icon" href="/apple-touch-icon.png" sizes="180x180" />

    <script>
      document.documentElement.classList.add("js-booting");
    </script>
  </head>

  <body>
    <div class="header">
      <!-- LOGO (animated) -->
      <div class="brand" aria-label="Fusioeng">
        <svg
          class="brand__logo"
          xmlns="http://www.w3.org/2000/svg"
          width="520"
          height="80"
          viewBox="0 0 520 80"
          role="img"
          aria-label="Fusioeng logo">
          <defs>
            <style>
              .word {
                font: 800 34px/1 system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
                letter-spacing: 0.35px;
                fill: rgba(231, 238, 247, 0.96);
              }
              .sub {
                font: 520 14px/1 system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
                fill: rgba(231, 238, 247, 0.7);
              }
              .c-blue { fill: #2f6bff; }
              .c-red { fill: #ff3b30; }
              .c-yellow { fill: #ffc700; }
              .c-green { fill: #2bd66f; }
            </style>

            <clippath id="clipIcon">
              <rect x="12" y="12" width="40" height="40" rx="12"></rect>
            </clippath>

            <filter id="glowIcon" x="-60%" y="-60%" width="220%" height="220%">
              <fegaussianblur stdDeviation="2" result="b"></fegaussianblur>
              <fecolormatrix
                in="b"
                type="matrix"
                values="1 0 0 0 0
                        0 1 0 0 0
                        0 0 1 0 0
                        0 0 0 .5 0"
                result="c"></fecolormatrix>
              <femerge>
                <femergenode in="c"></femergenode>
                <femergenode in="SourceGraphic"></femergenode>
              </femerge>
            </filter>
          </defs>

          <!-- ICON -->
          <g transform="translate(10,14) scale(1.2)">
            <svg width="48" height="48" viewBox="0 0 64 64" aria-hidden="true">
              <rect x="0" y="0" width="64" height="64" rx="16" fill="#0b0f14" />
              <rect
                x="12"
                y="12"
                width="40"
                height="40"
                rx="12"
                fill="rgba(255,255,255,.04)"
                stroke="rgba(255,255,255,.16)"
                stroke-width="2" />

              <g clip-path="url(#clipIcon)" opacity=".85">
                <path d="M12 26H52M12 38H52" stroke="rgba(255,255,255,.10)"
                  stroke-width="1" />
                <path d="M24 12V52M36 12V52" stroke="rgba(255,255,255,.10)"
                  stroke-width="1" />
              </g>

              <g clip-path="url(#clipIcon)" filter="url(#glowIcon)">
                <rect x="18" y="18" width="6" height="28" rx="3" fill="#2F6BFF">
                  <animate attributeName="height" dur="3.2s"
                    repeatCount="indefinite" values="28;20;28" />
                  <animate attributeName="y" dur="3.2s" repeatCount="indefinite"
                    values="18;26;18" />
                </rect>

                <rect x="26" y="22" width="6" height="24" rx="3" fill="#FFC700"
                  opacity=".95">
                  <animate attributeName="height" dur="3.2s"
                    repeatCount="indefinite" values="24;30;24" />
                  <animate attributeName="y" dur="3.2s" repeatCount="indefinite"
                    values="22;16;22" />
                </rect>

                <rect x="34" y="20" width="6" height="26" rx="3" fill="#FF3B30"
                  opacity=".92">
                  <animate attributeName="height" dur="3.2s"
                    repeatCount="indefinite" values="26;18;26" />
                  <animate attributeName="y" dur="3.2s" repeatCount="indefinite"
                    values="20;28;20" />
                </rect>

                <rect x="42" y="24" width="6" height="22" rx="3" fill="#2BD66F"
                  opacity=".95">
                  <animate attributeName="height" dur="3.2s"
                    repeatCount="indefinite" values="22;28;22" />
                  <animate attributeName="y" dur="3.2s" repeatCount="indefinite"
                    values="24;18;24" />
                </rect>
              </g>

              <path
                d="M12 46
                   C18 46 18 38 22 38
                   S28 54 32 54
                   S38 34 42 34
                   S46 46 52 46"
                fill="none"
                stroke="rgba(231,238,247,.92)"
                stroke-width="2.4"
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-dasharray="90"
                stroke-dashoffset="90">
                <animate
                  attributeName="stroke-dashoffset"
                  dur="3.6s"
                  repeatCount="indefinite"
                  values="90;0;0;90"
                  keyTimes="0;0.45;0.8;1" />
                <animate
                  attributeName="opacity"
                  dur="3.6s"
                  repeatCount="indefinite"
                  values="0.85;1;1;0.85"
                  keyTimes="0;0.45;0.8;1" />
              </path>

              <circle cx="12" cy="46" r="2.1" fill="rgba(231,238,247,.92)" />
              <circle cx="52" cy="46" r="2.1" fill="rgba(231,238,247,.92)" />
            </svg>
          </g>

          <text class="word" x="86" y="46">Fusioeng</text>

          <g transform="translate(86,58)">
            <rect class="c-blue" x="0" y="0" width="32" height="4"
              rx="2"></rect>
            <rect class="c-yellow" x="40" y="0" width="26" height="4"
              rx="2"></rect>
            <rect class="c-red" x="74" y="0" width="24" height="4"
              rx="2"></rect>
            <rect class="c-green" x="106" y="0" width="40" height="4"
              rx="2"></rect>
          </g>

          <text class="sub" x="86" y="76">energy monitoring</text>
        </svg>
      </div>

      <!-- Burger (mobile/tablet) -->
      <button
        class="menu-btn"
        id="menuBtn"
        type="button"
        aria-controls="siteNav"
        aria-expanded="false"
        aria-label="Open menu">
        <span></span><span></span><span></span>
      </button>

      <div class="nav" id="siteNav">
        <a href="/" data-route data-i18n="nav.home">Home</a>
        <a href="/about" data-route data-i18n="nav.about">About</a>
        <a href="/services" data-route data-i18n="nav.services">Services</a>
        <a href="/contact" data-route data-i18n="nav.contact">Contact</a>
      </div>

      <!-- Language picker -->
      <div class="langpicker" id="langPicker">
        <button
          type="button"
          class="langpicker__btn"
          id="langToggle"
          aria-haspopup="menu"
          aria-expanded="false">
          <span class="langpicker__circle" aria-hidden="true">
            <img class="langpicker__img" src="/assets/lang-w.svg" alt />
          </span>

          <span class="langpicker__text">
            <span class="langpicker__title" id="langTitle">Language</span>
            <span class="langpicker__sep">—</span>
            <span class="langpicker__value" id="langValue">English</span>
          </span>
        </button>

        <div class="langpicker__menu" id="langMenu" role="menu">
          <button type="button" role="menuitem" data-lang="uk"></button>
          <button type="button" role="menuitem" data-lang="en"></button>
          <button type="button" role="menuitem" data-lang="es"></button>
        </div>
      </div>
    </div>

    <!-- overlay for mobile menu -->
    <div class="menu-overlay" id="menuOverlay" hidden></div>

    <!-- Geo banner -->
    <div class="geo-banner" id="geoBanner" hidden>
      <span data-i18n="geo.prompt">
        Do you agree to share your geolocation to select the language
        automatically?
      </span>
      <div class="geo-banner__actions">
        <button type="button" id="geoYes" data-i18n="geo.yes">Yes</button>
        <button type="button" id="geoNo" data-i18n="geo.no">No</button>
      </div>
    </div>

    <!-- Swirl background libs -->
    <script src="/swirl/noise.min.js"></script>
    <script src="/swirl/util.js"></script>
    <script src="/swirl/swirl-hero.js"></script>

    <main class="container">
      <div id="app"></div>
    </main>

    <!-- ✅ Підключення модалу НЕ ТУТ.
         Модал рендериться всередині Home (homePage()),
         а initDemoModal() викликається в /src/main.ts після рендера Home. -->
    <script type="module" src="/src/main.ts"></script>
  </body>
</html>
